

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Cart Cart Utils Module &mdash; Pacifica v1.0.0</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Pacifica v1.0.0" href="index.html"/>
        <link rel="up" title="Cart Module" href="cart.html"/>
        <link rel="next" title="Cart Cart Interface Responses Module" href="cart.cart_interface_responses.html"/>
        <link rel="prev" title="Cart Cart Env Globals Module" href="cart.cart_env_globals.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Pacifica
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="metadata.html">Metadata Module</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="cart.html">Cart Module</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="cart.tasks.html">Cart Tasks Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cart.cart_orm.html">Cart Cart Orm Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cart.cart_interface.html">Cart Cart Interface Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cart.celery.html">Cart Celery Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cart.cart_env_globals.html">Cart Cart Env Globals Module</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Cart Cart Utils Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cart.cart_interface_responses.html">Cart Cart Interface Responses Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cart.cart_unit_tests.html">Cart Cart Unit Tests Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cart.archive_requests.html">Cart Archive Requests Module</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Pacifica</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
          <li><a href="cart.html">Cart Module</a> &raquo;</li>
      
    <li>Cart Cart Utils Module</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/cart.cart_utils.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-cart.cart_utils">
<span id="cart-cart-utils-module"></span><h1>Cart Cart Utils Module<a class="headerlink" href="#module-cart.cart_utils" title="Permalink to this headline">¶</a></h1>
<p>Module that has the utility functionality for
the cart</p>
<dl class="class">
<dt id="cart.cart_utils.Cartutils">
<em class="property">class </em><code class="descclassname">cart.cart_utils.</code><code class="descname">Cartutils</code><a class="reference internal" href="_modules/cart/cart_utils.html#Cartutils"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cart.cart_utils.Cartutils" title="Permalink to this definition">¶</a></dt>
<dd><p>Class used to provide utility functions for the
cart to use.</p>
<dl class="staticmethod">
<dt id="cart.cart_utils.Cartutils.available_cart">
<em class="property">static </em><code class="descname">available_cart</code><span class="sig-paren">(</span><em>uid</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cart/cart_utils.html#Cartutils.available_cart"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cart.cart_utils.Cartutils.available_cart" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if the asked for cart tar is available
returns the path to tar if yes, false if not</p>
</dd></dl>

<dl class="staticmethod">
<dt id="cart.cart_utils.Cartutils.cart_status">
<em class="property">static </em><code class="descname">cart_status</code><span class="sig-paren">(</span><em>uid</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cart/cart_utils.html#Cartutils.cart_status"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cart.cart_utils.Cartutils.cart_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the status of a specified cart</p>
</dd></dl>

<dl class="staticmethod">
<dt id="cart.cart_utils.Cartutils.check_file_modified_time">
<em class="property">static </em><code class="descname">check_file_modified_time</code><span class="sig-paren">(</span><em>response</em>, <em>cart_file</em>, <em>mycart</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cart/cart_utils.html#Cartutils.check_file_modified_time"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cart.cart_utils.Cartutils.check_file_modified_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks response (should be from Archive Interface head request)
for file modified time</p>
</dd></dl>

<dl class="staticmethod">
<dt id="cart.cart_utils.Cartutils.check_file_ready_pull">
<em class="property">static </em><code class="descname">check_file_ready_pull</code><span class="sig-paren">(</span><em>response</em>, <em>cart_file</em>, <em>mycart</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cart/cart_utils.html#Cartutils.check_file_ready_pull"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cart.cart_utils.Cartutils.check_file_ready_pull" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks response (should be from Archive Interface head request)
for bytes per level then returns True or False based on if the file
is at level 1 (downloadable)</p>
</dd></dl>

<dl class="staticmethod">
<dt id="cart.cart_utils.Cartutils.check_file_size_needed">
<em class="property">static </em><code class="descname">check_file_size_needed</code><span class="sig-paren">(</span><em>response</em>, <em>cart_file</em>, <em>mycart</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cart/cart_utils.html#Cartutils.check_file_size_needed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cart.cart_utils.Cartutils.check_file_size_needed" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks response (should be from Archive Interface head request)
for file size</p>
</dd></dl>

<dl class="method">
<dt id="cart.cart_utils.Cartutils.check_space_requirements">
<code class="descname">check_space_requirements</code><span class="sig-paren">(</span><em>cart_file</em>, <em>mycart</em>, <em>size_needed</em>, <em>deleted_flag</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cart/cart_utils.html#Cartutils.check_space_requirements"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cart.cart_utils.Cartutils.check_space_requirements" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks to make sure there is enough space available on disk
for the file to be downloaded
Note it will recursively call itself if there isnt enough
space. It will delete a cart first, then call  itself
until either there is enough space or there is no carts to delete</p>
</dd></dl>

<dl class="staticmethod">
<dt id="cart.cart_utils.Cartutils.create_bundle_directories">
<em class="property">static </em><code class="descname">create_bundle_directories</code><span class="sig-paren">(</span><em>filepath</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cart/cart_utils.html#Cartutils.create_bundle_directories"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cart.cart_utils.Cartutils.create_bundle_directories" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates all the directories in the given path
if they do not already exist.</p>
</dd></dl>

<dl class="classmethod">
<dt id="cart.cart_utils.Cartutils.create_download_path">
<em class="property">classmethod </em><code class="descname">create_download_path</code><span class="sig-paren">(</span><em>cart_file</em>, <em>mycart</em>, <em>abs_cart_file_path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cart/cart_utils.html#Cartutils.create_download_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cart.cart_utils.Cartutils.create_download_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Create the directories that the file will be pulled to</p>
</dd></dl>

<dl class="staticmethod">
<dt id="cart.cart_utils.Cartutils.delete_cart_bundle">
<em class="property">static </em><code class="descname">delete_cart_bundle</code><span class="sig-paren">(</span><em>cart</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cart/cart_utils.html#Cartutils.delete_cart_bundle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cart.cart_utils.Cartutils.delete_cart_bundle" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the path to where a carts file are and
attempts to delete the file tree</p>
</dd></dl>

<dl class="staticmethod">
<dt id="cart.cart_utils.Cartutils.fix_absolute_path">
<em class="property">static </em><code class="descname">fix_absolute_path</code><span class="sig-paren">(</span><em>filepath</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cart/cart_utils.html#Cartutils.fix_absolute_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cart.cart_utils.Cartutils.fix_absolute_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes / from front of path</p>
</dd></dl>

<dl class="classmethod">
<dt id="cart.cart_utils.Cartutils.get_path_size">
<em class="property">classmethod </em><code class="descname">get_path_size</code><span class="sig-paren">(</span><em>source</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cart/cart_utils.html#Cartutils.get_path_size"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cart.cart_utils.Cartutils.get_path_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the size of a specific directory, including
all subdirectories and files</p>
</dd></dl>

<dl class="classmethod">
<dt id="cart.cart_utils.Cartutils.lru_cart_delete">
<em class="property">classmethod </em><code class="descname">lru_cart_delete</code><span class="sig-paren">(</span><em>mycart</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cart/cart_utils.html#Cartutils.lru_cart_delete"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cart.cart_utils.Cartutils.lru_cart_delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the least recently used cart that isnt this one.
Only delete one cart per call</p>
</dd></dl>

<dl class="classmethod">
<dt id="cart.cart_utils.Cartutils.remove_cart">
<em class="property">classmethod </em><code class="descname">remove_cart</code><span class="sig-paren">(</span><em>uid</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cart/cart_utils.html#Cartutils.remove_cart"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cart.cart_utils.Cartutils.remove_cart" title="Permalink to this definition">¶</a></dt>
<dd><p>Call when a DELETE request comes in. Verifies there is a cart
to delete then removes it</p>
</dd></dl>

<dl class="staticmethod">
<dt id="cart.cart_utils.Cartutils.set_file_status">
<em class="property">static </em><code class="descname">set_file_status</code><span class="sig-paren">(</span><em>cart_file</em>, <em>cart</em>, <em>status</em>, <em>error</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cart/cart_utils.html#Cartutils.set_file_status"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cart.cart_utils.Cartutils.set_file_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the status and/or error for a cart</p>
</dd></dl>

<dl class="classmethod">
<dt id="cart.cart_utils.Cartutils.update_cart_files">
<em class="property">classmethod </em><code class="descname">update_cart_files</code><span class="sig-paren">(</span><em>cart</em>, <em>file_ids</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/cart/cart_utils.html#Cartutils.update_cart_files"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cart.cart_utils.Cartutils.update_cart_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the files associated to a cart</p>
</dd></dl>

</dd></dl>

</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="cart.cart_interface_responses.html" class="btn btn-neutral float-right" title="Cart Cart Interface Responses Module" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="cart.cart_env_globals.html" class="btn btn-neutral" title="Cart Cart Env Globals Module" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, David Brown.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.0.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>